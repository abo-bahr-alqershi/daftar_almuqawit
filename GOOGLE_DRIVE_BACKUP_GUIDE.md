# ุฏููู ุงุณุชุฎุฏุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ูุน Google Drive

## ๐ฏ ุงููุธุงู ุงูุฌุฏูุฏ: ุงูุชุฎุฒูู ุงูุซูุงุซู

ุชู ุชูููุฐ ูุธุงู ูุชูุงูู ูุฌูุน ุจูู 3 ุทุจูุงุช ูู ุงูุชุฎุฒูู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  ุงูุชุทุจูู                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                       โ
         โโโโโโโโโโโโโโโผโโโโโโโโโโโโโโ
         โ             โ             โ
         โผ             โผ             โผ
    โโโโโโโโโโ   โโโโโโโโโโโโ   โโโโโโโโโโโโโโ
    โ ูุญูู   โโโโบโ Firebase โ   โ Google     โ
    โ SQLite โ   โ Storage  โ   โ Drive      โ
    โ        โ   โ          โ   โ            โ
    โ ุจูุงูุงุช โ   โ ูุฒุงููุฉ  โ   โ ูุณุฎ       โ
    โ ููุฑูุฉ โ   โ ุณุญุงุจูุฉ  โ   โ ุงุญุชูุงุทู  โ
    โโโโโโโโโโ   โโโโโโโโโโโโ   โโโโโโโโโโโโโโ
```

---

## ๐ฆ ุงูููููุงุช ุงูุซูุงุซุฉ

### 1๏ธโฃ ุงูุชุฎุฒูู ุงููุญูู (SQLite)
- **ุงูุบุฑุถ**: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ููุชุทุจูู
- **ุงููููุน**: ุนูู ุงูุฌูุงุฒ ูุจุงุดุฑุฉ
- **ุงูุณุฑุนุฉ**: ููุฑู โ
- **ูุนูู ุจุฏูู ุฅูุชุฑูุช**: ูุนู โ

### 2๏ธโฃ Firebase Storage (ุงููุฒุงููุฉ)
- **ุงูุบุฑุถ**: ูุฒุงููุฉ ุงูุจูุงูุงุช ุจูู ุงูุฃุฌูุฒุฉ
- **ุงูุงุณุชุฎุฏุงู**: ุชููุงุฆู ูู ุงูุฎูููุฉ
- **ุงููููุฒุงุช**:
  - ูุฒุงููุฉ ููุฑูุฉ ุนูุฏ ุชููุฑ ุงูุฅูุชุฑูุช
  - ุชุชุจุน ุงูุชุบููุฑุงุช ูู ุงูููุช ุงููุนูู
  - ุญู ุชุนุงุฑุถุงุช ุงูุจูุงูุงุช ุชููุงุฆูุงู

### 3๏ธโฃ Google Drive (ุงููุณุฎ ุงูุงุญุชูุงุทู)
- **ุงูุบุฑุถ**: ูุณุฎ ุงุญุชูุงุทู ุขูู ูุทููู ุงูุฃูุฏ
- **ุงูุงุณุชุฎุฏุงู**: ูุฏูู ุฃู ูุฌุฏูู
- **ุงููููุฒุงุช**:
  - โ ูุธูุฑ ูู Google Drive ุงูุฎุงุต ุจู
  - โ ููููู ูุดุงูุฏุฉ ูุฅุฏุงุฑุฉ ุงููููุงุช
  - โ ูุณุงุญุฉ ุชุฎุฒูู ูุจูุฑุฉ (15GB ูุฌุงูุงู)
  - โ ุงุณุชุนุงุฏุฉ ูุงููุฉ ูู ุฃู ูุณุฎุฉ ูุฏููุฉ

---

## ๐ ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ ููุจุฏุก

### ุงูุฎุทูุฉ 1: ุชูุนูู Google Drive (ูุฑุฉ ูุงุญุฏุฉ ููุท)

ูู ุงูุชุทุจูู:
```
ุงูุฅุนุฏุงุฏุงุช โ ุงููุณุฎ ุงูุงุญุชูุงุทู โ ุชุณุฌูู ุงูุฏุฎูู ุฅูู Google Drive
```

ุณุชุธูุฑ ูู ุดุงุดุฉ Google ูุชุณุฌูู ุงูุฏุฎูู:
1. ุงุฎุชุฑ ุญุณุงุจ Google
2. ุงุณูุญ ููุชุทุจูู ุจุงููุตูู ุฅูู Drive
3. ุชู! โ

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุฃูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ

```
ุงูุฅุนุฏุงุฏุงุช โ ุงููุณุฎ ุงูุงุญุชูุงุทู โ ูุณุฎ ุงุญุชูุงุทู ุฅูู Google Drive
```

ุณูููู ุงูุชุทุจูู ุจู:
1. โ ุฅูุดุงุก ูุณุฎุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. โ ุฑูุนูุง ุฅูู ูุฌูุฏ ุฎุงุต ูู Google Drive
3. โ ุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ูุน ุงุณู ุงูููู

---

## ๐ฑ ุงุณุชุฎุฏุงู ุงููุณุฎ ุงูุงุญุชูุงุทู

### ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฏููุฉ

```dart
// ูู ุฏุงุฎู ุงูููุฏ
final backupService = sl<BackupService>();

// ูุณุฎ ุฅูู Google Drive
final driveFileId = await backupService.createBackupToDrive(
  onUploadProgress: (progress) {
    print('ุงูุชูุฏู: ${(progress * 100).toStringAsFixed(0)}%');
  },
);

print('ุชู ุงูุฑูุน! ูุนุฑู ุงูููู: $driveFileId');
```

### ุนุฑุถ ูุงุฆูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

```dart
final backups = await backupService.getDriveBackups();

for (final backup in backups) {
  print('๐ ${backup.name}');
  print('๐ ${backup.sizeFormatted}');
  print('๐ ${backup.timeAgo}');
  print('---');
}
```

### ุงุณุชุนุงุฏุฉ ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ

```dart
// ุจุงุณุชุฎุฏุงู ูุนุฑู ุงูููู
await backupService.restoreFromDrive(
  'ูุนุฑู_ุงูููู_ูู_Google_Drive',
  onDownloadProgress: (progress) {
    print('ุชุญููู: ${(progress * 100).toStringAsFixed(0)}%');
  },
);

// ุณูุนูุฏ ุงูุชุทุจูู ุชุดุบูู ููุณู ุชููุงุฆูุงู
```

---

## ๐ ุฃูู ุชุฌุฏ ุงููุณุฎ ูู Google Driveุ

ุจุนุฏ ุฅูุดุงุก ุฃูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ:

1. ุงูุชุญ [drive.google.com](https://drive.google.com)
2. ุณุชุฌุฏ ูุฌูุฏ ุจุฅุณู: **`ุฏูุชุฑ_ุงููููุช_ูุณุฎ_ุงุญุชูุงุทูุฉ`**
3. ุฏุงุฎู ุงููุฌูุฏุ ุณุชุฌุฏ ูููุงุช ุจุฃุณูุงุก ูุซู:
   ```
   backup_drive_1731340800000.db
   backup_drive_1731427200000.db
   ```

ูู ููู ูู ูุณุฎุฉ ูุงููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ููุช ูุนูู.

---

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู ุฅูู Drive

ููููู ุฌุฏููุฉ ูุณุฎ ุชููุงุฆู ูููู:

```dart
// ูู AppBloc ุฃู SettingsBloc
if (autoDriveBackupEnabled) {
  // ุฌุฏููุฉ ูุณุฎ ูููู
  Timer.periodic(Duration(days: 1), (_) async {
    await backupService.createBackupToDrive();
  });
}
```

### ุญุฐู ุงููุณุฎ ุงููุฏููุฉ

```dart
final googleDrive = GoogleDriveService.instance;

// ุญุฐู ุงููุณุฎ ุงูุฃูุฏู ูู 30 ููู (ูุน ุงูุงุญุชูุงุธ ุจุขุฎุฑ 5)
final deletedCount = await googleDrive.deleteOldBackups(
  daysOld: 30,
  keepLast: 5,
);

print('ุชู ุญุฐู $deletedCount ูุณุฎุฉ ูุฏููุฉ');
```

---

## ๐ ููู ูุนูู ุงููุธุงู ูุนุงูุ

### ุงูุณููุงุฑูู 1: ุงุณุชุฎุฏุงู ุนุงุฏู

```
1. ุงููุณุชุฎุฏู ูุฏุฎู ุจูุงูุงุช โ ุชุญูุธ ูู SQLite ูุญููุงู
2. ุชููุงุฆูุงู โ ุชูุฒุงููู ูุน Firebase Storage (ูู ุงูุฎูููุฉ)
3. ูุฏููุงู/ูุฌุฏูู โ ูุณุฎ ุงุญุชูุงุทู ุฅูู Google Drive
```

### ุงูุณููุงุฑูู 2: ุชุจุฏูู ุงูุฃุฌูุฒุฉ

```
ุงูุฌูุงุฒ ุงููุฏูู:
  โโ ุจูุงูุงุช ูุญููุฉ (SQLite)
  โโ ูุฒุงููุฉ ุชููุงุฆูุฉ โ Firebase Storage
  โโ ูุณุฎ ุงุญุชูุงุทู โ Google Drive

ุงูุฌูุงุฒ ุงูุฌุฏูุฏ:
  1. ุชูุฒูู ุงูุชุทุจูู
  2. ุชุณุฌูู ุงูุฏุฎูู
  3. ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ โ Firebase Storage (ุชุญููู ุงูุจูุงูุงุช)
  4. ุฃู: ุงุณุชุนุงุฏุฉ ูู Google Drive (ูุณุฎุฉ ูุงููุฉ ูุญุฏุฏุฉ)
```

### ุงูุณููุงุฑูู 3: ุงุณุชุนุงุฏุฉ ุจุนุฏ ุญุฐู ุงูุชุทุจูู

```
1. ุฅุนุงุฏุฉ ุชุซุจูุช ุงูุชุทุจูู
2. ุชุณุฌูู ุงูุฏุฎูู ุฅูู Google Drive
3. ุงุฎุชูุงุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงููุงุฆูุฉ
4. ุงุณุชุนุงุฏุฉ ูุงููุฉ! โ
```

---

## ๐ก๏ธ ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### Google Drive
- โ ุงููููุงุช ูุญููุธุฉ ูู ุญุณุงุจู ุงูุฎุงุต
- โ ูุง ูุณุชุทูุน ุฃุญุฏ ุงููุตูู ุฅูููุง ุบูุฑู
- โ ูุดูุฑุฉ ุฃุซูุงุก ุงูููู (HTTPS)
- โ ููููู ุญุฐููุง ูู ุฃู ููุช

### Firebase Storage
- โ ูู ูุณุชุฎุฏู ูุฏูู ูุฌูุฏ ูููุตู
- โ ุงูููุงุนุฏ ุชููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ
- โ ุชุดููุฑ ุชููุงุฆู

---

## ๐ ููุงุฑูุฉ ุณุฑูุนุฉ

| ุงูููุฒุฉ | SQLite ูุญูู | Firebase Storage | Google Drive |
|--------|-------------|------------------|--------------|
| **ุงูุณุฑุนุฉ** | ููุฑู โก | ุณุฑูุน ุฌุฏุงู ๐ | ุณุฑูุน ๐จ |
| **ุจุฏูู ุฅูุชุฑูุช** | โ ูุนู | โ ูุง | โ ูุง |
| **ุงููุฒุงููุฉ ุจูู ุงูุฃุฌูุฒุฉ** | โ ูุง | โ ูุนู | โ๏ธ ูุฏูู |
| **ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุขูู** | โ๏ธ ูุญุฏูุฏ | โ๏ธ ูุญุฏูุฏ | โ ููุชุงุฒ |
| **ุงููุตูู ุงูุฎุงุฑุฌู** | โ ูุง | โ ูุง | โ ูุนู (drive.google.com) |
| **ุงููุณุงุญุฉ** | ุญุณุจ ุงูุฌูุงุฒ | 5GB ูุฌุงูุงู | 15GB ูุฌุงูุงู |
| **ุงูุงุณุชุนุงุฏุฉ ุงูุชุงุฑูุฎูุฉ** | โ ูุง | โ๏ธ ูุญุฏูุฏ | โ ูุนู |

---

## ๐จ ุฅุถุงูุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู (ุงุฎุชูุงุฑู)

ููููู ุฅุถุงูุฉ ุดุงุดุฉ ูุฅุฏุงุฑุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:

```dart
class GoogleDriveBackupScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ - Google Drive')),
      body: FutureBuilder<List<DriveBackupInfo>>(
        future: sl<BackupService>().getDriveBackups(),
        builder: (context, snapshot) {
          if (!snapshot.hasData) return CircularProgressIndicator();
          
          final backups = snapshot.data!;
          
          return ListView.builder(
            itemCount: backups.length,
            itemBuilder: (context, index) {
              final backup = backups[index];
              
              return ListTile(
                leading: Icon(Icons.backup),
                title: Text(backup.name),
                subtitle: Text('${backup.sizeFormatted} - ${backup.timeAgo}'),
                trailing: Row(
                  mainAxisSize: MainAxisSize.min,
                  children: [
                    // ุฒุฑ ุงูุงุณุชุนุงุฏุฉ
                    IconButton(
                      icon: Icon(Icons.download),
                      onPressed: () => _restore(backup.id),
                    ),
                    // ุฒุฑ ุงูุญุฐู
                    IconButton(
                      icon: Icon(Icons.delete),
                      onPressed: () => _delete(backup.id),
                    ),
                  ],
                ),
              );
            },
          );
        },
      ),
      floatingActionButton: FloatingActionButton(
        child: Icon(Icons.add),
        onPressed: () => _createNewBackup(),
      ),
    );
  }
}
```

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: "ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฅูู Google Drive ุฃููุงู"

**ุงูุญู:**
```dart
final backupService = sl<BackupService>();
final signedIn = await backupService.signInToGoogleDrive();

if (signedIn) {
  // ุงูุขู ููููู ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ
  await backupService.createBackupToDrive();
}
```

### ุงููุดููุฉ: "ูุง ุฃุฌุฏ ุงููุฌูุฏ ูู Google Drive"

**ุงูุญู:**
- ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ุจููุณ ุญุณุงุจ Google
- ุงุจุญุซ ุนู "ุฏูุชุฑ_ุงููููุช" ูู Drive
- ุชุญูู ูู ูุฌูุฏ "My Drive" ูููุณ "Shared with me"

### ุงููุดููุฉ: ุงูุฑูุน ุจุทูุก ุฌุฏุงู

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
- ุงุชุตุงู ุฅูุชุฑูุช ุถุนูู
- ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจูุฑ

**ุงูุญู:**
- ุงูุชุธุฑ ุญุชู ููุชูู (ุณูุธูุฑ ุชูุฏู ุงูุฑูุน)
- ุงุณุชุฎุฏู Wi-Fi ุจุฏูุงู ูู ุงูุจูุงูุงุช ุงูุฎูููุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูููุฉ**: ุฌููุน ุงูุฎุฏูุงุช ูุฌุงููุฉ ุถูู ุงูุญุฏูุฏ:
   - Firebase Storage: 5GB
   - Google Drive: 15GB
   
2. **ุงูุญุฌู ุงููููุฐุฌู ููุงุนุฏุฉ ุงูุจูุงูุงุช**: 
   - ูุงุฑุบุฉ: ~50 KB
   - ุจูุงูุงุช ุณูุฉ: ~5-10 MB
   - ุจูุงูุงุช 5 ุณููุงุช: ~50 MB
   
3. **ุชูุตูุฉ**: ุงุญุชูุธ ุจู 3-5 ูุณุฎ ุงุญุชูุงุทูุฉ ูู Drive ููุท (ุญุฐู ุงููุฏููุฉ).

4. **ุงูุฃูุงู**: ูุง ุชุดุงุฑู ูุนุฑู ุงูููู (File ID) ูุน ุฃุญุฏ.

---

## โ ูุงุฆูุฉ ุงูููุงู

- [x] ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ
- [x] ุฅูุดุงุก GoogleDriveService
- [x] ุฏูุฌ Google Drive ูุน BackupService
- [ ] ุฅุถุงูุฉ ุฒุฑ "ูุณุฎ ุฅูู Drive" ูู ุดุงุดุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู
- [ ] ุฅุถุงูุฉ ุดุงุดุฉ ูุนุฑุถ ุงููุณุฎ ูู Drive
- [ ] ุชูุนูู ุงููุณุฎ ุงูุชููุงุฆู ุงููุฌุฏูู
- [ ] ุฅุถุงูุฉ ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู (ุชูุนูู/ุชุนุทูู Drive)
- [ ] ุงุฎุชุจุงุฑ ุงูุฑูุน ูุงูุชุญููู
- [ ] ุฅุถุงูุฉ ุชูุซูู ูููุณุชุฎุฏู ุงูููุงุฆู

---

**ุชู ุฅุนุฏุงุฏ ุงูุฏููู ุจูุงุณุทุฉ:** Verdent AI  
**ุงูุชุงุฑูุฎ:** 2025-11-11  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

๐ **ูุจุฑูู! ุงููุธุงู ุฌุงูุฒ ููุนูู** ๐
